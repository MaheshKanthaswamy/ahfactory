@model EditPageModel
@{
    var id = Html.RandomID();
}

@* Suppréssion de fonctionnalités dans le ImageBrowser *@
<style>
    .k-filebrowser .k-filebrowser-toolbar {
        line-height: 2.9em;
    }

    .k-filebrowser-dialog .k-imagebrowser > .k-floatwrap:first-child {
        display: none;
    }

    .k-filebrowser-dialog .k-edit-label, .k-filebrowser-dialog .k-edit-field {
        display: none;
    }

    .k-filebrowser-toolbar > .k-toolbar-wrap > .k-button.k-button-icon:first-of-type {
        display: none;
    }

    /*.k-filebrowser-dialog .k-toolbar-wrap button.k-button:nth-of-type(1n) {
        display: none;
    }*/

    .k-filebrowser-dialog .k-tiles-arrange {
        display: none;
    }
</style>

<div class="row">
    <div class="small-12 column">

        @using (Html.BeginForm("EditPage", "Page", FormMethod.Post, new { id = "form_" + id }))
        {
            @*@Html.HiddenFor(m => m.Id)*@
            <input type="hidden" name="Id" value="@Model.Id" />

            @Html.HiddenFor(m => m.Type)
            @Html.HiddenFor(m => m.PageName)

            @(
                Html.Kendo().EditorFor(m => Model.Content)
                .HtmlAttributes(new { id = "editor_" + id + "_" + Model.Id, style = "height:600px" })
                .Tools(tools => tools
                    .Clear()
                    .Formatting()
                    .Bold().Italic().Underline().Strikethrough()
                    .JustifyLeft().JustifyCenter().JustifyRight().JustifyFull()
                    .InsertUnorderedList().InsertOrderedList()
                    .CreateLink().Unlink()
                    .FontName()
                    .FontSize()
                    .FontColor()
                    .TableEditing()
                )
            )

            <div class="text-right">
                <button type="submit" class="button mar-bottom"><i class="fa fa-refresh"></i> @Html.Lang("update")</button>
            </div>
        }
    </div>
</div>

<script type="text/javascript">
    $(function () {
        $("#form_@(id)").ftelvalidation();
    })
</script>